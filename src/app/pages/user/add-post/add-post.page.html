<app-header></app-header>

<ion-content [fullscreen]="true">
  <section class="section-1">
    <form [formGroup]="addPostForm">
      <div class="input-container">
        <ion-input label="Nombre" type="text" label-placement="floating" fill="outline"
          placeholder="Ingrese su nombre" formControlName="name"></ion-input>
          <div *ngIf="addPostForm.get('name')?.dirty || addPostForm.get('name')?.touched" class="text-danger">
            <div *ngIf="addPostForm.get('name')?.errors?.['required']">name is required.</div>
            <div *ngIf="addPostForm.get('name')?.errors?.['nombre']">Invalid nombre format.</div>
          </div>
      </div>
      <div class="input-container">

        <ion-textarea label="Outline textarea" labelPlacement="floating" fill="outline"
          placeholder="Enter text" helperText="Cantidad de caracteres"
          [autoGrow]="true"
          [counter]="true"
          [maxlength]="500" formControlName="description"></ion-textarea>
          <div *ngIf="addPostForm.get('description')?.dirty || addPostForm.get('description')?.touched" class="text-danger">
            <div *ngIf="addPostForm.get('description')?.errors?.['required']">Desccription is required.</div>
            <div *ngIf="addPostForm.get('description')?.errors?.['description']">Invalid nombre format.</div>
          </div>

      </div>
      <div class="button-container">

        <ng-container *ngIf="addPostForm.valid; else noValid">
          <ion-button expand="full" mode="ios" shape="round" color="primary"  (click)="addPost()">Publicar post</ion-button>
        </ng-container>

        <ng-template #noValid>
          <ion-button  expand="full" mode="ios" shape="round" color="primary" type="button" class="btn btn-primary" (click)="validateForm()">Publicar post</ion-button>
        </ng-template>

      </div>

      
  
      
    </form>
  </section>

</ion-content>
<ion-footer>
  <ion-toolbar>
    <app-tabs></app-tabs>
  </ion-toolbar>
</ion-footer>